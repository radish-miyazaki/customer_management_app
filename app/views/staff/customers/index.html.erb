<% @title = "顧客管理" %>
<h2 class="mt-4"><%= @title %></h2>

<div>
  <div class="text-right">
    <%= link_to "新規登録", :new_staff_customer, class: "btn btn-info" %>
  </div>

  <table class="table table-striped my-3">
    <thead class="thead-dark text-center">
      <tr>
        <th>氏名</th>
        <th>フリガナ</th>
        <th>メールアドレス</th>
        <th>生年月日</th>
        <th>性別</th>
        <th>アクション</th>
      </tr>
    </thead>
    <tbody>
      <% @customers.each do |c| %>
        <% p = CustomerPresenter.new(c, self) %>
        <tr>
          <td><%= p.full_name %></td>
          <td><%= p.full_name_kana %></td>
          <td><%= p.email %></td>
          <td class="text-center align-middle"><%= p.birthday %></td>
          <td class="text-center align-middle"><%= p.gender %></td>
          <td class="text-center align-middle">
            <%= link_to "詳細", [:staff, c], class: "text-decoration-none" %> |
            <%= link_to "編集", [:edit, :staff, c], class: "text-decoration-none" %> |
            <%= link_to "削除", [:staff, c], method: :delete,
              data: { confirm: "本当に削除しますか？" }, class: "text-decoration-none" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <%= paginate @customers %>

</div>